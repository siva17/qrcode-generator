var jscolor={dir:"",bindClass:"color",binding:true,preloading:true,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){if(jscolor.binding){jscolor.bind()}if(jscolor.preloading){jscolor.preload()}},getDir:function(){if(!jscolor.dir){var a=jscolor.detectDir();jscolor.dir=a!==false?a:""}return jscolor.dir},detectDir:function(){var c=location.href;var d=document.getElementsByTagName("base");for(var a=0;a<d.length;a+=1){if(d[a].href){c=d[a].href}}var d=document.getElementsByTagName("script");for(var a=0;a<d.length;a+=1){if(d[a].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(d[a].src)){var f=new jscolor.URI(d[a].src);var b=f.toAbsolute(c);b.path=b.path.replace(/[^\/]+$/,"");b.query=null;b.fragment=null;return b.toString()}}return false},bind:function(){var matchClass=new RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i");var e=document.getElementsByTagName("input");for(var i=0;i<e.length;i+=1){var m;if(!e[i].color&&e[i].className&&(m=e[i].className.match(matchClass))){var prop={};if(m[3]){try{eval("prop="+m[3])}catch(eInvalidProp){}}e[i].color=new jscolor.color(e[i],prop)}}},preload:function(){for(var a in jscolor.imgRequire){if(jscolor.imgRequire.hasOwnProperty(a)){jscolor.loadImage(a)}}},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(a){jscolor.imgRequire[a]=true},loadImage:function(a){if(!jscolor.imgLoaded[a]){jscolor.imgLoaded[a]=new Image();jscolor.imgLoaded[a].src=jscolor.getDir()+a}},fetchElement:function(a){return typeof a==="string"?document.getElementById(a):a},addEvent:function(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}}},fireEvent:function(a,c){if(!a){return}if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(c,true,true);a.dispatchEvent(b)}else{if(document.createEventObject){var b=document.createEventObject();a.fireEvent("on"+c,b)}else{if(a["on"+c]){a["on"+c]()}}}},getElementPos:function(c){var d=c,b=c;var a=0,f=0;if(d.offsetParent){do{a+=d.offsetLeft;f+=d.offsetTop}while(d=d.offsetParent)}while((b=b.parentNode)&&b.nodeName.toUpperCase()!=="BODY"){a-=b.scrollLeft;f-=b.scrollTop}return[a,f]},getElementSize:function(a){return[a.offsetWidth,a.offsetHeight]},getRelMousePos:function(b){var a=0,c=0;if(!b){b=window.event}if(typeof b.offsetX==="number"){a=b.offsetX;c=b.offsetY}else{if(typeof b.layerX==="number"){a=b.layerX;c=b.layerY}}return{x:a,y:c}},getViewPos:function(){if(typeof window.pageYOffset==="number"){return[window.pageXOffset,window.pageYOffset]}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){return[document.body.scrollLeft,document.body.scrollTop]}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){return[document.documentElement.scrollLeft,document.documentElement.scrollTop]}else{return[0,0]}}}},getViewSize:function(){if(typeof window.innerWidth==="number"){return[window.innerWidth,window.innerHeight]}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return[document.body.clientWidth,document.body.clientHeight]}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return[document.documentElement.clientWidth,document.documentElement.clientHeight]}else{return[0,0]}}}},URI:function(a){this.scheme=null;this.authority=null;this.path="";this.query=null;this.fragment=null;this.parse=function(d){var c=d.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=c[3]?c[2]:null;this.authority=c[5]?c[6]:null;this.path=c[7];this.query=c[9]?c[10]:null;this.fragment=c[12]?c[13]:null;return this};this.toString=function(){var c="";if(this.scheme!==null){c=c+this.scheme+":"}if(this.authority!==null){c=c+"//"+this.authority}if(this.path!==null){c=c+this.path}if(this.query!==null){c=c+"?"+this.query}if(this.fragment!==null){c=c+"#"+this.fragment}return c};this.toAbsolute=function(e){var e=new jscolor.URI(e);var d=this;var c=new jscolor.URI;if(e.scheme===null){return false}if(d.scheme!==null&&d.scheme.toLowerCase()===e.scheme.toLowerCase()){d.scheme=null}if(d.scheme!==null){c.scheme=d.scheme;c.authority=d.authority;c.path=b(d.path);c.query=d.query}else{if(d.authority!==null){c.authority=d.authority;c.path=b(d.path);c.query=d.query}else{if(d.path===""){c.path=e.path;if(d.query!==null){c.query=d.query}else{c.query=e.query}}else{if(d.path.substr(0,1)==="/"){c.path=b(d.path)}else{if(e.authority!==null&&e.path===""){c.path="/"+d.path}else{c.path=e.path.replace(/[^\/]+$/,"")+d.path}c.path=b(c.path)}c.query=d.query}c.authority=e.authority}c.scheme=e.scheme}c.fragment=d.fragment;return c};function b(e){var c="";while(e){if(e.substr(0,3)==="../"||e.substr(0,2)==="./"){e=e.replace(/^\.+/,"").substr(1)}else{if(e.substr(0,3)==="/./"||e==="/."){e="/"+e.substr(3)}else{if(e.substr(0,4)==="/../"||e==="/.."){e="/"+e.substr(4);c=c.replace(/\/?[^\/]*$/,"")}else{if(e==="."||e===".."){e=""}else{var d=e.match(/^\/?[^\/]*/)[0];e=e.substr(d.length);c=c+d}}}}}return c}if(a){this.parse(a)}},color:function(target,prop){this.required=true;this.adjust=true;this.hash=false;this.caps=true;this.slider=true;this.valueElement=target;this.styleElement=target;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=true;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=true;this.pickerButtonHeight=20;this.pickerClosable=false;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=10000;for(var p in prop){if(prop.hasOwnProperty(p)){this[p]=prop[p]}}this.hidePicker=function(){if(isPickerOwner()){removePicker()}};this.showPicker=function(){if(!isPickerOwner()){var tp=jscolor.getElementPos(target);var ts=jscolor.getElementSize(target);var vp=jscolor.getViewPos();var vs=jscolor.getViewSize();var ps=getPickerDims(this);var a,b,c;switch(this.pickerPosition.toLowerCase()){case"left":a=1;b=0;c=-1;break;case"right":a=1;b=0;c=1;break;case"top":a=0;b=1;c=-1;break;default:a=0;b=1;c=1;break}var l=(ts[b]+ps[b])/2;if(!this.pickerSmartPosition){var pp=[tp[a],tp[b]+ts[b]-l+l*c]}else{var pp=[-vp[a]+tp[a]+ps[a]>vs[a]?(-vp[a]+tp[a]+ts[a]/2>vs[a]/2&&tp[a]+ts[a]-ps[a]>=0?tp[a]+ts[a]-ps[a]:tp[a]):tp[a],-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c>vs[b]?(-vp[b]+tp[b]+ts[b]/2>vs[b]/2&&tp[b]+ts[b]-l-l*c>=0?tp[b]+ts[b]-l-l*c:tp[b]+ts[b]-l+l*c):(tp[b]+ts[b]-l+l*c>=0?tp[b]+ts[b]-l+l*c:tp[b]+ts[b]-l-l*c)]}drawPicker(pp[a],pp[b])}};this.importColor=function(){if(!valueElement){this.exportColor()}else{if(!this.adjust){if(!this.fromString(valueElement.value,leaveValue)){styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage;styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor;styleElement.style.color=styleElement.jscStyle.color;this.exportColor(leaveValue|leaveStyle)}}else{if(!this.required&&/^\s*$/.test(valueElement.value)){valueElement.value="";styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage;styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor;styleElement.style.color=styleElement.jscStyle.color;this.exportColor(leaveValue|leaveStyle)}else{if(this.fromString(valueElement.value)){}else{this.exportColor()}}}}};this.exportColor=function(flags){if(!(flags&leaveValue)&&valueElement){var value=this.toString();if(this.caps){value=value.toUpperCase()}if(this.hash){value="#"+value}valueElement.value=value}if(!(flags&leaveStyle)&&styleElement){styleElement.style.backgroundImage="none";styleElement.style.backgroundColor="#"+this.toString();styleElement.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000"}if(!(flags&leavePad)&&isPickerOwner()){redrawPad()}if(!(flags&leaveSld)&&isPickerOwner()){redrawSld()}};this.fromHSV=function(h,s,v,flags){h<0&&(h=0)||h>6&&(h=6);s<0&&(s=0)||s>1&&(s=1);v<0&&(v=0)||v>1&&(v=1);this.rgb=HSV_RGB(h===null?this.hsv[0]:(this.hsv[0]=h),s===null?this.hsv[1]:(this.hsv[1]=s),v===null?this.hsv[2]:(this.hsv[2]=v));this.exportColor(flags)};this.fromRGB=function(r,g,b,flags){r<0&&(r=0)||r>1&&(r=1);g<0&&(g=0)||g>1&&(g=1);b<0&&(b=0)||b>1&&(b=1);var hsv=RGB_HSV(r===null?this.rgb[0]:(this.rgb[0]=r),g===null?this.rgb[1]:(this.rgb[1]=g),b===null?this.rgb[2]:(this.rgb[2]=b));if(hsv[0]!==null){this.hsv[0]=hsv[0]}if(hsv[2]!==0){this.hsv[1]=hsv[1]}this.hsv[2]=hsv[2];this.exportColor(flags)};this.fromString=function(hex,flags){var m=hex.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(!m){return false}else{if(m[1].length===6){this.fromRGB(parseInt(m[1].substr(0,2),16)/255,parseInt(m[1].substr(2,2),16)/255,parseInt(m[1].substr(4,2),16)/255,flags)}else{this.fromRGB(parseInt(m[1].charAt(0)+m[1].charAt(0),16)/255,parseInt(m[1].charAt(1)+m[1].charAt(1),16)/255,parseInt(m[1].charAt(2)+m[1].charAt(2),16)/255,flags)}return true}};this.toString=function(){return((256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1))};function RGB_HSV(r,g,b){var n=Math.min(Math.min(r,g),b);var v=Math.max(Math.max(r,g),b);var m=v-n;if(m===0){return[null,0,v]}var h=r===n?3+(b-g)/m:(g===n?5+(r-b)/m:1+(g-r)/m);return[h===6?0:h,m/v,v]}function HSV_RGB(h,s,v){if(h===null){return[v,v,v]}var i=Math.floor(h);var f=i%2?h-i:1-(h-i);var m=v*(1-s);var n=v*(1-s*f);switch(i){case 6:case 0:return[v,n,m];case 1:return[n,v,m];case 2:return[m,v,n];case 3:return[m,n,v];case 4:return[n,m,v];case 5:return[v,m,n]}}function removePicker(){delete jscolor.picker.owner;document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB)}function drawPicker(x,y){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(THIS.pickerCloseText)};for(var i=0,segSize=4;i<jscolor.images.sld[1];i+=segSize){var seg=document.createElement("div");seg.style.height=segSize+"px";seg.style.fontSize="1px";seg.style.lineHeight="0";jscolor.picker.sld.appendChild(seg)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var p=jscolor.picker;p.box.onmouseup=p.box.onmouseout=function(){target.focus()};p.box.onmousedown=function(){abortBlur=true};p.box.onmousemove=function(e){if(holdPad||holdSld){holdPad&&setPad(e);holdSld&&setSld(e);if(document.selection){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}dispatchImmediateChange()}};p.padM.onmouseup=p.padM.onmouseout=function(){if(holdPad){holdPad=false;jscolor.fireEvent(valueElement,"change")}};p.padM.onmousedown=function(e){switch(modeID){case 0:if(THIS.hsv[2]===0){THIS.fromHSV(null,null,1)}break;case 1:if(THIS.hsv[1]===0){THIS.fromHSV(null,1,null)}break}holdPad=true;setPad(e);dispatchImmediateChange()};p.sldM.onmouseup=p.sldM.onmouseout=function(){if(holdSld){holdSld=false;jscolor.fireEvent(valueElement,"change")}};p.sldM.onmousedown=function(e){holdSld=true;setSld(e);dispatchImmediateChange()};var dims=getPickerDims(THIS);p.box.style.width=dims[0]+"px";p.box.style.height=dims[1]+"px";p.boxB.style.position="absolute";p.boxB.style.clear="both";p.boxB.style.left=x+"px";p.boxB.style.top=y+"px";p.boxB.style.zIndex=THIS.pickerZIndex;p.boxB.style.border=THIS.pickerBorder+"px solid";p.boxB.style.borderColor=THIS.pickerBorderColor;p.boxB.style.background=THIS.pickerFaceColor;p.pad.style.width=jscolor.images.pad[0]+"px";p.pad.style.height=jscolor.images.pad[1]+"px";p.padB.style.position="absolute";p.padB.style.left=THIS.pickerFace+"px";p.padB.style.top=THIS.pickerFace+"px";p.padB.style.border=THIS.pickerInset+"px solid";p.padB.style.borderColor=THIS.pickerInsetColor;p.padM.style.position="absolute";p.padM.style.left="0";p.padM.style.top="0";p.padM.style.width=THIS.pickerFace+2*THIS.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";p.padM.style.height=p.box.style.height;p.padM.style.cursor="crosshair";p.sld.style.overflow="hidden";p.sld.style.width=jscolor.images.sld[0]+"px";p.sld.style.height=jscolor.images.sld[1]+"px";p.sldB.style.display=THIS.slider?"block":"none";p.sldB.style.position="absolute";p.sldB.style.right=THIS.pickerFace+"px";p.sldB.style.top=THIS.pickerFace+"px";p.sldB.style.border=THIS.pickerInset+"px solid";p.sldB.style.borderColor=THIS.pickerInsetColor;p.sldM.style.display=THIS.slider?"block":"none";p.sldM.style.position="absolute";p.sldM.style.right="0";p.sldM.style.top="0";p.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+THIS.pickerFace+2*THIS.pickerInset+"px";p.sldM.style.height=p.box.style.height;try{p.sldM.style.cursor="pointer"}catch(eOldIE){p.sldM.style.cursor="hand"}function setBtnBorder(){var insetColors=THIS.pickerInsetColor.split(/\s+/);var pickerOutsetColor=insetColors.length<2?insetColors[0]:insetColors[1]+" "+insetColors[0]+" "+insetColors[0]+" "+insetColors[1];p.btn.style.borderColor=pickerOutsetColor}p.btn.style.display=THIS.pickerClosable?"block":"none";p.btn.style.position="absolute";p.btn.style.left=THIS.pickerFace+"px";p.btn.style.bottom=THIS.pickerFace+"px";p.btn.style.padding="0 15px";p.btn.style.height="18px";p.btn.style.border=THIS.pickerInset+"px solid";setBtnBorder();p.btn.style.color=THIS.pickerButtonColor;p.btn.style.font="12px sans-serif";p.btn.style.textAlign="center";try{p.btn.style.cursor="pointer"}catch(eOldIE){p.btn.style.cursor="hand"}p.btn.onmousedown=function(){THIS.hidePicker()};p.btnS.style.lineHeight=p.btn.style.height;switch(modeID){case 0:var padImg="images/hs.png";break;case 1:var padImg="images/hv.png";break}p.padM.style.backgroundImage="url('"+jscolor.getDir()+"images/cross.gif')";p.padM.style.backgroundRepeat="no-repeat";p.sldM.style.backgroundImage="url('"+jscolor.getDir()+"images/arrow.gif')";p.sldM.style.backgroundRepeat="no-repeat";p.pad.style.backgroundImage="url('"+jscolor.getDir()+padImg+"')";p.pad.style.backgroundRepeat="no-repeat";p.pad.style.backgroundPosition="0 0";redrawPad();redrawSld();jscolor.picker.owner=THIS;document.getElementsByTagName("body")[0].appendChild(p.boxB)}function getPickerDims(o){var dims=[2*o.pickerInset+2*o.pickerFace+jscolor.images.pad[0]+(o.slider?2*o.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),o.pickerClosable?4*o.pickerInset+3*o.pickerFace+jscolor.images.pad[1]+o.pickerButtonHeight:2*o.pickerInset+2*o.pickerFace+jscolor.images.pad[1]];return dims}function redrawPad(){switch(modeID){case 0:var yComponent=1;break;case 1:var yComponent=2;break}var x=Math.round((THIS.hsv[0]/6)*(jscolor.images.pad[0]-1));var y=Math.round((1-THIS.hsv[yComponent])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=(THIS.pickerFace+THIS.pickerInset+x-Math.floor(jscolor.images.cross[0]/2))+"px "+(THIS.pickerFace+THIS.pickerInset+y-Math.floor(jscolor.images.cross[1]/2))+"px";var seg=jscolor.picker.sld.childNodes;switch(modeID){case 0:var rgb=HSV_RGB(THIS.hsv[0],THIS.hsv[1],1);for(var i=0;i<seg.length;i+=1){seg[i].style.backgroundColor="rgb("+(rgb[0]*(1-i/seg.length)*100)+"%,"+(rgb[1]*(1-i/seg.length)*100)+"%,"+(rgb[2]*(1-i/seg.length)*100)+"%)"}break;case 1:var rgb,s,c=[THIS.hsv[2],0,0];var i=Math.floor(THIS.hsv[0]);var f=i%2?THIS.hsv[0]-i:1-(THIS.hsv[0]-i);switch(i){case 6:case 0:rgb=[0,1,2];break;case 1:rgb=[1,0,2];break;case 2:rgb=[2,0,1];break;case 3:rgb=[2,1,0];break;case 4:rgb=[1,2,0];break;case 5:rgb=[0,2,1];break}for(var i=0;i<seg.length;i+=1){s=1-1/(seg.length-1)*i;c[1]=c[0]*(1-s*f);c[2]=c[0]*(1-s);seg[i].style.backgroundColor="rgb("+(c[rgb[0]]*100)+"%,"+(c[rgb[1]]*100)+"%,"+(c[rgb[2]]*100)+"%)"}break}}function redrawSld(){switch(modeID){case 0:var yComponent=2;break;case 1:var yComponent=1;break}var y=Math.round((1-THIS.hsv[yComponent])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(THIS.pickerFace+THIS.pickerInset+y-Math.floor(jscolor.images.arrow[1]/2))+"px"}function isPickerOwner(){return jscolor.picker&&jscolor.picker.owner===THIS}function blurTarget(){if(valueElement===target){THIS.importColor()}if(THIS.pickerOnfocus){THIS.hidePicker()}}function blurValue(){if(valueElement!==target){THIS.importColor()}}function setPad(e){var mpos=jscolor.getRelMousePos(e);var x=mpos.x-THIS.pickerFace-THIS.pickerInset;var y=mpos.y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)),1-y/(jscolor.images.pad[1]-1),null,leaveSld);break;case 1:THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)),null,1-y/(jscolor.images.pad[1]-1),leaveSld);break}}function setSld(e){var mpos=jscolor.getRelMousePos(e);var y=mpos.y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(null,null,1-y/(jscolor.images.sld[1]-1),leavePad);break;case 1:THIS.fromHSV(null,1-y/(jscolor.images.sld[1]-1),null,leavePad);break}}function dispatchImmediateChange(){if(THIS.onImmediateChange){if(typeof THIS.onImmediateChange==="string"){eval(THIS.onImmediateChange)}else{THIS.onImmediateChange(THIS)}}}var THIS=this;var modeID=this.pickerMode.toLowerCase()==="hvs"?1:0;var abortBlur=false;var valueElement=jscolor.fetchElement(this.valueElement),styleElement=jscolor.fetchElement(this.styleElement);var holdPad=false,holdSld=false;var leaveValue=1<<0,leaveStyle=1<<1,leavePad=1<<2,leaveSld=1<<3;jscolor.addEvent(target,"focus",function(){if(THIS.pickerOnfocus){THIS.showPicker()}});jscolor.addEvent(target,"blur",function(){if(!abortBlur){window.setTimeout(function(){abortBlur||blurTarget();abortBlur=false},0)}else{abortBlur=false}});if(valueElement){var updateField=function(){THIS.fromString(valueElement.value,leaveValue);dispatchImmediateChange()};jscolor.addEvent(valueElement,"keyup",updateField);jscolor.addEvent(valueElement,"input",updateField);jscolor.addEvent(valueElement,"blur",blurValue);valueElement.setAttribute("autocomplete","off")}if(styleElement){styleElement.jscStyle={backgroundImage:styleElement.style.backgroundImage,backgroundColor:styleElement.style.backgroundColor,color:styleElement.style.color}}switch(modeID){case 0:jscolor.requireImage("images/hs.png");break;case 1:jscolor.requireImage("images/hv.png");break}jscolor.requireImage("images/cross.gif");jscolor.requireImage("images/arrow.gif");this.importColor()}};jscolor.install();var QRCodeClass=function(a){this._init(a)};QRCodeClass.prototype={_adelta:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],_vpat:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],_fmtword:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],_eccblocks:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],_glog:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],_gexp:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],_N1:3,_N2:3,_N3:40,_N4:10,_qrImageID:"qrImgID",_qrShowImage:"yes",_qrCanvasID:"qrCnvsID",_qrInputWidth:300,_qrFinalWidth:300,_qrWidth:0,_version:0,_neccblk1:0,_neccblk2:0,_datablkw:0,_eccblkwid:0,_ecclevel:1,_strinbuf:[],_eccbuf:[],_qrframe:[],_framask:[],_rlens:[],_genpoly:[],_dotSize:20,_emptyBlockSize:4,_init:function(c){var b=this;var a=document.createElement("canvas");a.setAttribute("width",b._qrInputWidth);a.setAttribute("height",b._qrInputWidth);a.setAttribute("id",b._qrCanvasID);document.body.appendChild(a)},_setmask:function(a,c){var b;if(a>c){b=a;a=c;c=b}b=c;b*=c;b+=c;b>>=1;b+=a;this._framask[b]=1},_ismasked:function(a,c){var b;if(a>c){b=a;a=c;c=b}b=c;b+=c*c;b>>=1;b+=a;return this._framask[b]},_putalign:function(a,d){var b=this;var c;b._qrframe[a+b._qrWidth*d]=1;for(c=-2;c<2;c++){b._qrframe[(a+c)+b._qrWidth*(d-2)]=1;b._qrframe[(a-2)+b._qrWidth*(d+c+1)]=1;b._qrframe[(a+2)+b._qrWidth*(d+c)]=1;b._qrframe[(a+c+1)+b._qrWidth*(d+2)]=1}for(c=0;c<2;c++){b._setmask(a-1,d+c);b._setmask(a+1,d-c);b._setmask(a-c,d-1);b._setmask(a+c,d+1)}},_modnn:function(a){while(a>=255){a-=255;a=(a>>8)+(a&255)}return a},_appendrs:function(e,g,h,l){var k=this;var f,d,c;var b=k._glog;var a=k._gexp;for(f=0;f<l;f++){k._strinbuf[h+f]=0}for(f=0;f<g;f++){c=b[k._strinbuf[e+f]^k._strinbuf[h]];if(c!=255){for(d=1;d<l;d++){k._strinbuf[h+d-1]=k._strinbuf[h+d]^a[k._modnn(c+k._genpoly[l-d])]}}else{for(d=h;d<h+l;d++){k._strinbuf[d]=k._strinbuf[d+1]}}k._strinbuf[h+l-1]=c==255?0:a[k._modnn(c+k._genpoly[0])]}},_applymask:function(b){var c=this;var a,f,e,d;switch(b){case 0:for(f=0;f<c._qrWidth;f++){for(a=0;a<c._qrWidth;a++){if(!((a+f)&1)&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 1:for(f=0;f<c._qrWidth;f++){for(a=0;a<c._qrWidth;a++){if(!(f&1)&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 2:for(f=0;f<c._qrWidth;f++){for(e=0,a=0;a<c._qrWidth;a++,e++){if(e==3){e=0}if(!e&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 3:for(d=0,f=0;f<c._qrWidth;f++,d++){if(d==3){d=0}for(e=d,a=0;a<c._qrWidth;a++,e++){if(e==3){e=0}if(!e&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 4:for(f=0;f<c._qrWidth;f++){for(e=0,d=((f>>1)&1),a=0;a<c._qrWidth;a++,e++){if(e==3){e=0;d=!d}if(!d&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 5:for(d=0,f=0;f<c._qrWidth;f++,d++){if(d==3){d=0}for(e=0,a=0;a<c._qrWidth;a++,e++){if(e==3){e=0}if(!((a&f&1)+!(!e|!d))&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 6:for(d=0,f=0;f<c._qrWidth;f++,d++){if(d==3){d=0}for(e=0,a=0;a<c._qrWidth;a++,e++){if(e==3){e=0}if(!(((a&f&1)+(e&&(e==d)))&1)&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break;case 7:for(d=0,f=0;f<c._qrWidth;f++,d++){if(d==3){d=0}for(e=0,a=0;a<c._qrWidth;a++,e++){if(e==3){e=0}if(!(((e&&(e==d))+((a+f)&1))&1)&&!c._ismasked(a,f)){c._qrframe[a+f*c._qrWidth]^=1}}}break}return},_badruns:function(d){var a=this;var c;var b=0;for(c=0;c<=d;c++){if(a._rlens[c]>=5){b+=a._N1+a._rlens[c]-5}}for(c=3;c<d-1;c+=2){if(a._rlens[c-2]==a._rlens[c+2]&&a._rlens[c+2]==a._rlens[c-1]&&a._rlens[c-1]==a._rlens[c+1]&&a._rlens[c-1]*3==a._rlens[c]&&(a._rlens[c-3]==0||c+3>d||a._rlens[c-3]*3>=a._rlens[c]*4||a._rlens[c+3]*3>=a._rlens[c]*4)){b+=a._N3}}return b},_badcheck:function(){var d=this;var j,e,c,g,i;var k=0;var f=0;for(e=0;e<d._qrWidth-1;e++){for(j=0;j<d._qrWidth-1;j++){if((d._qrframe[j+d._qrWidth*e]&&d._qrframe[(j+1)+d._qrWidth*e]&&d._qrframe[j+d._qrWidth*(e+1)]&&d._qrframe[(j+1)+d._qrWidth*(e+1)])||!(d._qrframe[j+d._qrWidth*e]||d._qrframe[(j+1)+d._qrWidth*e]||d._qrframe[j+d._qrWidth*(e+1)]||d._qrframe[(j+1)+d._qrWidth*(e+1)])){k+=d._N2}}}for(e=0;e<d._qrWidth;e++){d._rlens[0]=0;for(c=g=j=0;j<d._qrWidth;j++){if((i=d._qrframe[j+d._qrWidth*e])==g){d._rlens[c]++}else{d._rlens[++c]=1}g=i;f+=g?1:-1}k+=d._badruns(c)}if(f<0){f=-f}var a=f;count=0;a+=a<<2;a<<=1;while(a>d._qrWidth*d._qrWidth){a-=d._qrWidth*d._qrWidth,count++}k+=count*d._N4;for(j=0;j<d._qrWidth;j++){d._rlens[0]=0;for(c=g=e=0;e<d._qrWidth;e++){if((i=d._qrframe[j+d._qrWidth*e])==g){d._rlens[c]++}else{d._rlens[++c]=1}g=i}k+=d._badruns(c)}return k},_generateQRCodeFrame:function(g){var l=this;var o,n,d,q,p,f,e,c;q=g.length;l._version=0;var h=l._eccblocks;do{l._version++;d=(l._ecclevel-1)*4+(l._version-1)*16;l._neccblk1=h[d++];l._neccblk2=h[d++];l._datablkw=h[d++];l._eccblkwid=h[d];d=l._datablkw*(l._neccblk1+l._neccblk2)+l._neccblk2-3+(l._version<=9);if(q<=d){break}}while(l._version<40);l._qrWidth=17+4*l._version;p=l._datablkw+(l._datablkw+l._eccblkwid)*(l._neccblk1+l._neccblk2)+l._neccblk2;for(q=0;q<p;q++){l._eccbuf[q]=0}l._strinbuf=g.slice(0);for(q=0;q<l._qrWidth*l._qrWidth;q++){l._qrframe[q]=0}for(q=0;q<(l._qrWidth*(l._qrWidth+1)+1)/2;q++){l._framask[q]=0}for(q=0;q<3;q++){d=0;n=0;if(q==1){d=(l._qrWidth-7)}if(q==2){n=(l._qrWidth-7)}l._qrframe[(n+3)+l._qrWidth*(d+3)]=1;for(o=0;o<6;o++){l._qrframe[(n+o)+l._qrWidth*d]=1;l._qrframe[n+l._qrWidth*(d+o+1)]=1;l._qrframe[(n+6)+l._qrWidth*(d+o)]=1;l._qrframe[(n+o+1)+l._qrWidth*(d+6)]=1}for(o=1;o<5;o++){l._setmask(n+o,d+1);l._setmask(n+1,d+o+1);l._setmask(n+5,d+o);l._setmask(n+o+1,d+5)}for(o=2;o<4;o++){l._qrframe[(n+o)+l._qrWidth*(d+2)]=1;l._qrframe[(n+2)+l._qrWidth*(d+o+1)]=1;l._qrframe[(n+4)+l._qrWidth*(d+o)]=1;l._qrframe[(n+o+1)+l._qrWidth*(d+4)]=1}}if(l._version>1){q=l._adelta[l._version];n=l._qrWidth-7;for(;;){o=l._qrWidth-7;while(o>q-3){l._putalign(o,n);if(o<q){break}o-=q}if(n<=q+9){break}n-=q;l._putalign(6,n);l._putalign(n,6)}}l._qrframe[8+l._qrWidth*(l._qrWidth-8)]=1;for(n=0;n<7;n++){l._setmask(7,n);l._setmask(l._qrWidth-8,n);l._setmask(7,n+l._qrWidth-7)}for(o=0;o<8;o++){l._setmask(o,7);l._setmask(o+l._qrWidth-8,7);l._setmask(o,l._qrWidth-8)}for(o=0;o<9;o++){l._setmask(o,8)}for(o=0;o<8;o++){l._setmask(o+l._qrWidth-8,8);l._setmask(8,o)}for(n=0;n<7;n++){l._setmask(8,n+l._qrWidth-7)}for(o=0;o<l._qrWidth-14;o++){if(o&1){l._setmask(8+o,6);l._setmask(6,8+o)}else{l._qrframe[(8+o)+l._qrWidth*6]=1;l._qrframe[6+l._qrWidth*(8+o)]=1}}if(l._version>6){q=l._vpat[l._version-7];d=17;for(o=0;o<6;o++){for(n=0;n<3;n++,d--){if(1&(d>11?l._version>>(d-12):q>>d)){l._qrframe[(5-o)+l._qrWidth*(2-n+l._qrWidth-11)]=1;l._qrframe[(2-n+l._qrWidth-11)+l._qrWidth*(5-o)]=1}else{l._setmask(5-o,2-n+l._qrWidth-11);l._setmask(2-n+l._qrWidth-11,5-o)}}}}for(n=0;n<l._qrWidth;n++){for(o=0;o<=n;o++){if(l._qrframe[o+l._qrWidth*n]){l._setmask(o,n)}}}p=l._strinbuf.length;for(f=0;f<p;f++){l._eccbuf[f]=l._strinbuf.charCodeAt(f)}l._strinbuf=l._eccbuf.slice(0);o=l._datablkw*(l._neccblk1+l._neccblk2)+l._neccblk2;if(p>=o-2){p=o-2;if(l._version>9){p--}}f=p;if(l._version>9){l._strinbuf[f+2]=0;l._strinbuf[f+3]=0;while(f--){q=l._strinbuf[f];l._strinbuf[f+3]|=255&(q<<4);l._strinbuf[f+2]=q>>4}l._strinbuf[2]|=255&(p<<4);l._strinbuf[1]=p>>4;l._strinbuf[0]=64|(p>>12)}else{l._strinbuf[f+1]=0;l._strinbuf[f+2]=0;while(f--){q=l._strinbuf[f];l._strinbuf[f+2]|=255&(q<<4);l._strinbuf[f+1]=q>>4}l._strinbuf[1]|=255&(p<<4);l._strinbuf[0]=64|(p>>4)}f=p+3-(l._version<10);while(f<o){l._strinbuf[f++]=236;l._strinbuf[f++]=17}var b=l._glog;var a=l._gexp;l._genpoly[0]=1;for(f=0;f<l._eccblkwid;f++){l._genpoly[f+1]=1;for(e=f;e>0;e--){l._genpoly[e]=l._genpoly[e]?l._genpoly[e-1]^a[l._modnn(b[l._genpoly[e]]+f)]:l._genpoly[e-1]}l._genpoly[0]=a[l._modnn(b[l._genpoly[0]]+f)]}for(f=0;f<=l._eccblkwid;f++){l._genpoly[f]=b[l._genpoly[f]]}d=o;n=0;for(f=0;f<l._neccblk1;f++){l._appendrs(n,l._datablkw,d,l._eccblkwid);n+=l._datablkw;d+=l._eccblkwid}for(f=0;f<l._neccblk2;f++){l._appendrs(n,l._datablkw+1,d,l._eccblkwid);n+=l._datablkw+1;d+=l._eccblkwid}n=0;for(f=0;f<l._datablkw;f++){for(e=0;e<l._neccblk1;e++){l._eccbuf[n++]=l._strinbuf[f+e*l._datablkw]}for(e=0;e<l._neccblk2;e++){l._eccbuf[n++]=l._strinbuf[(l._neccblk1*l._datablkw)+f+(e*(l._datablkw+1))]}}for(e=0;e<l._neccblk2;e++){l._eccbuf[n++]=l._strinbuf[(l._neccblk1*l._datablkw)+f+(e*(l._datablkw+1))]}for(f=0;f<l._eccblkwid;f++){for(e=0;e<l._neccblk1+l._neccblk2;e++){l._eccbuf[n++]=l._strinbuf[o+f+e*l._eccblkwid]}}l._strinbuf=l._eccbuf;o=n=l._qrWidth-1;d=p=1;c=(l._datablkw+l._eccblkwid)*(l._neccblk1+l._neccblk2)+l._neccblk2;for(f=0;f<c;f++){q=l._strinbuf[f];for(e=0;e<8;e++,q<<=1){if(128&q){l._qrframe[o+l._qrWidth*n]=1}do{if(p){o--}else{o++;if(d){if(n!=0){n--}else{o-=2;d=!d;if(o==6){o--;n=9}}}else{if(n!=l._qrWidth-1){n++}else{o-=2;d=!d;if(o==6){o--;n-=8}}}}p=!p}while(l._ismasked(o,n))}}l._strinbuf=l._qrframe.slice(0);q=0;n=30000;for(d=0;d<8;d++){l._applymask(d);o=l._badcheck();if(o<n){n=o;q=d}if(q==7){break}l._qrframe=l._strinbuf.slice(0)}if(q!=d){l._applymask(q)}n=l._fmtword[q+((l._ecclevel-1)<<3)];for(d=0;d<8;d++,n>>=1){if(n&1){l._qrframe[(l._qrWidth-1-d)+l._qrWidth*8]=1;if(d<6){l._qrframe[8+l._qrWidth*d]=1}else{l._qrframe[8+l._qrWidth*(d+1)]=1}}}for(d=0;d<7;d++,n>>=1){if(n&1){l._qrframe[8+l._qrWidth*(l._qrWidth-7+d)]=1;if(d){l._qrframe[(6-d)+l._qrWidth*8]=1}else{l._qrframe[7+l._qrWidth*8]=1}}}return l._qrframe},_getNewDimensions:function(c,g,a,d){try{var b=c;var f=g;if((c/g)>1){b=c;f=d*(c/a);if(f>g){b=b*(g/f);f=g}}else{f=g;b=a*(g/d);if(b>c){f=f*(c/b);b=c}}return{w:b,h:f}}catch(h){}return null},_fillRectR:function(e,a,f,b,c,d){if(typeof d==="undefined"){d=5}e.beginPath();e.moveTo(a+d,f);e.lineTo(a+b-d,f);e.quadraticCurveTo(a+b,f,a+b,f+d);e.lineTo(a+b,f+c-d);e.quadraticCurveTo(a+b,f+c,a+b-d,f+c);e.lineTo(a+d,f+c);e.quadraticCurveTo(a,f+c,a,f+c-d);e.lineTo(a,f+d);e.quadraticCurveTo(a,f,a+d,f);e.closePath();e.fill()},_fillRectFill:function(t,k,g,l,A,q,c,a,z,v){if(typeof q==="undefined"){q=5}var C=((z>0)?(c[(v)*a+(z-1)]):(0));var b=((z<(a-1))?(c[(v)*a+(z+1)]):(0));var f=((v>0)?(c[(v-1)*a+(z)]):(0));var m=((v<(a-1))?(c[(v+1)*a+(z)]):(0));var u=(((z>0)&&(v>0))?(c[(v-1)*a+(z-1)]):(0));var B=(((z<(a-1))&&(v>0))?(c[(v-1)*a+(z+1)]):(0));var e=(((z<(a-1))&&(v>0))?(c[(v+1)*a+(z+1)]):(0));var d=(((z>0)&&(v<(a-1)))?(c[(v+1)*a+(z-1)]):(0));var n=((C||f||u)?(0):(q));var p=((f||b||B)?(0):(q));var s=((m||b||e)?(0):(q));var o=((C||m||d)?(0):(q));t.beginPath();t.moveTo(k+n,g);t.lineTo(k+l-p,g);t.quadraticCurveTo(k+l,g,k+l,g+p);t.lineTo(k+l,g+A-s);t.quadraticCurveTo(k+l,g+A,k+l-s,g+A);t.lineTo(k+o,g+A);t.quadraticCurveTo(k,g+A,k,g+A-o);t.lineTo(k,g+n);t.quadraticCurveTo(k,g,k+n,g);t.closePath();t.fill()},_fillRectDeFill:function(q,f,e,g,u,o,c,a,t,s){if(typeof o==="undefined"){o=5}var v=((t>0)?(c[(s)*a+(t-1)]):(0));var b=((t<(a-1))?(c[(s)*a+(t+1)]):(0));var d=((s>0)?(c[(s-1)*a+(t)]):(0));var k=((s<(a-1))?(c[(s+1)*a+(t)]):(0));var l=(!(v||d)?(0):(o));var n=(!(d||b)?(0):(o));var p=(!(k||b)?(0):(o));var m=(!(v||k)?(0):(o));q.beginPath();q.moveTo(f+l,e);q.lineTo(f+g-n,e);q.quadraticCurveTo(f+g,e,f+g,e+n);q.lineTo(f+g,e+u-p);q.quadraticCurveTo(f+g,e+u,f+g-p,e+u);q.lineTo(f+m,e+u);q.quadraticCurveTo(f,e+u,f,e+u-m);q.lineTo(f,e+l);q.quadraticCurveTo(f,e,f+l,e);q.closePath();q.fill()},_fillCurve:function(e,a,f,b,c,d){if(typeof d==="undefined"){d=5}e.beginPath();e.bezierCurveTo(a,f,a+(b/2),f+d,a+b,f);e.bezierCurveTo(a+b,f,(a+b)-d,f+(c/2),a+b,f+c);e.bezierCurveTo(a+b,f+c,a+(b/2),((f+c)-d),a,f+c);e.bezierCurveTo(a,f+c,a+d,f+(c/2),a,f);e.fill()},_fillCurveFill:function(k,n,m,p,f,a,g,c,e,d){if(typeof a==="undefined"){a=5}var l=((e>0)?(g[(d)*c+(e-1)]):(0));var q=((e<(c-1))?(g[(d)*c+(e+1)]):(0));var o=((d>0)?(g[(d-1)*c+(e)]):(0));var b=((d<(c-1))?(g[(d+1)*c+(e)]):(0));k.beginPath();if(o){k.bezierCurveTo(n,m,n+p,m,n+p,m)}else{k.bezierCurveTo(n,m,n+(p/2),m+a,n+p,m)}if(q){k.bezierCurveTo(n+p,m,n+p,m+f,n+p,m+f)}else{k.bezierCurveTo(n+p,m,(n+p)-a,m+(f/2),n+p,m+f)}if(b){k.bezierCurveTo(n+p,m+f,n,m+f,n,m+f)}else{k.bezierCurveTo(n+p,m+f,n+(p/2),((m+f)-a),n,m+f)}if(l){k.bezierCurveTo(n,m+f,n,m,n,m)}else{k.bezierCurveTo(n,m+f,n+a,m+(f/2),n,m)}k.fill()},_fillCurveDeFill:function(k,n,m,p,f,a,g,c,e,d){if(typeof a==="undefined"){a=5}var l=((e>0)?(g[(d)*c+(e-1)]):(0));var q=((e<(c-1))?(g[(d)*c+(e+1)]):(0));var o=((d>0)?(g[(d-1)*c+(e)]):(0));var b=((d<(c-1))?(g[(d+1)*c+(e)]):(0));k.beginPath();if(!o){k.bezierCurveTo(n,m,n+p,m,n+p,m)}else{k.bezierCurveTo(n,m,n+(p/2),m+a,n+p,m)}if(!q){k.bezierCurveTo(n+p,m,n+p,m+f,n+p,m+f)}else{k.bezierCurveTo(n+p,m,(n+p)-a,m+(f/2),n+p,m+f)}if(!b){k.bezierCurveTo(n+p,m+f,n,m+f,n,m+f)}else{k.bezierCurveTo(n+p,m+f,n+(p/2),((m+f)-a),n,m+f)}if(!l){k.bezierCurveTo(n,m+f,n,m,n,m)}else{k.bezierCurveTo(n,m+f,n+a,m+(f/2),n,m)}k.fill()},_fillRectReverseFill:function(e,m,k,n,d,b,c,o,j,a){if(typeof b==="undefined"){b=5}e.beginPath();var i=(!(c&&j)?(0):(b));var f=(!(j&&o)?(0):(b));var g=(!(a&&o)?(0):(b));var l=(!(c&&a)?(0):(b));e.moveTo(m+i,k);e.lineTo(m+n-f,k);e.quadraticCurveTo(m+n,k,m+n,k+f);e.lineTo(m+n,k+d-g);e.quadraticCurveTo(m+n,k+d,m+n-g,k+d);e.lineTo(m+l,k+d);e.quadraticCurveTo(m,k+d,m,k+d-l);e.lineTo(m,k+i);e.quadraticCurveTo(m,k,m+i,k);e.closePath();e.fill()},_fillQRSquares:function(k,m){var i=this;var h=i.colors;var l=i._dotSize;var g=((i.fillValue!=i.fillType.SQUARE)?(l):(0));var b=i._qrWidth;var f=i._emptyBlockSize;if(m=="f"){var d=i._qrFinalWidth;k.clearRect(0,0,d,d);k.fillStyle=i.colors.bg;k.fillRect(0,0,d,d);return}if((m=="l")||(m=="r")||(m=="b")){var c=h.lBorder;var a=h.lFill;var e=l*f;var j=l*f;if(m=="l"){c=h.lBorder;a=h.lFill;e=f;j=f}else{if(m=="r"){c=h.rBorder;a=h.rFill;e=((b-f)+1);j=f}else{if(m=="b"){c=h.bBorder;a=h.bFill;e=f;j=((b-f)+1)}}}if((i.fillValue==i.fillType.CURVE)||(i.fillValue==i.fillType.CURVE_FILL)||(i.fillValue==i.fillType.CURVE_DEFILL)){g=0;k.fillStyle=c;i._fillCurve(k,l*e,l*j,7*l,7*l,g);k.fillStyle=h.bg;i._fillCurve(k,l*(e+1),l*(j+1),5*l,5*l,g);k.fillStyle=a;i._fillCurve(k,l*(e+2),l*(j+2),3*l,3*l,g)}else{k.fillStyle=c;i._fillRectR(k,l*e,l*j,7*l,7*l,g);k.fillStyle=h.bg;i._fillRectR(k,l*(e+1),l*(j+1),5*l,5*l,g);k.fillStyle=a;i._fillRectR(k,l*(e+2),l*(j+2),3*l,3*l,g)}}},fillType:{SQUARE:1,ROUNDED:2,ROUND_FILL:3,ROUND_DEFILL:4,CIRCLE:5,CIRPAT:6,CURVE:7,CURVE_FILL:8,CURVE_DEFILL:9,},colors:{bg:"#ffffff",dot:"#000000",lBorder:"#000000",lFill:"#000000",rBorder:"#000000",rFill:"#000000",bBorder:"#000000",bFill:"#000000",},fillValue:1,generateQRCode:function(C){if(C){var B=this;if(C.width){B._qrInputWidth=C.width}if(C.ecclevel){B._ecclevel=C.ecclevel}if(C.showimage){B._qrShowImage=C.showimage}if((C)&&(C.imageid)){B._qrImageID=C.imageid}if(document.getElementById(B._qrImageID)==null){var w=document.createElement("img");w.setAttribute("id",B._qrImageID);document.body.appendChild(w)}var m=document.getElementById(B._qrCanvasID);var d=B._generateQRCodeFrame(C.value);var a=B._qrWidth;var p=B._qrInputWidth;p/=a+10;p=Math.round(p-0.5);B._dotSize=p;B._qrFinalWidth=p*(a+(2*B._emptyBlockSize));qrCanvas=m.getContext("2d");qrCanvas.canvas.width=B._qrFinalWidth;qrCanvas.canvas.height=B._qrFinalWidth;qrCanvas.lineWidth=1;B._fillQRSquares(qrCanvas,"f");B._fillQRSquares(qrCanvas,"l");B._fillQRSquares(qrCanvas,"r");B._fillQRSquares(qrCanvas,"b");var u,s,g,k;var o=B.fillValue;var r=B._emptyBlockSize;for(u=0;u<a;u++){for(s=0;s<a;s++){k=a-u;g=a-s;if(((u<7)&&(s<7))||((k<=7)&&(s<7))||((u<7)&&(g<=7))){continue}if(d[(s*a)+u]){qrCanvas.fillStyle=B.colors.dot;var f=0;if(o==B.fillType.CIRPAT){f=p}else{if(o==B.fillType.CIRCLE){f=(p-(p*0.4))}else{if(o==B.fillType.CURVE){f=(p-(p*0.6));B._fillCurve(qrCanvas,p*(r+u),p*(r+s),p,p,f);continue}else{if(o==B.fillType.CURVE_FILL){f=(p-(p*0.6));B._fillCurveFill(qrCanvas,p*(r+u),p*(r+s),p,p,f,d,a,u,s);continue}else{if(o==B.fillType.ROUNDED){f=(p-(p*0.6))}else{if(o==B.fillType.ROUND_DEFILL){f=(p-(p*0.6));B._fillRectDeFill(qrCanvas,p*(r+u),p*(r+s),p,p,d,a,u,s)}else{if(o==B.fillType.ROUND_FILL){f=(p-(p*0.6));B._fillRectFill(qrCanvas,p*(r+u),p*(r+s),p,p,f,d,a,u,s)}}}}}}}B._fillRectR(qrCanvas,p*(r+u),p*(r+s),p,p,f)}else{if((o==B.fillType.ROUND_DEFILL)||(o==B.fillType.ROUND_FILL)){f=(p-(p*0.6));var D=((u>0)?(d[(s)*a+(u-1)]):(0));var c=((u<(a-1))?(d[(s)*a+(u+1)]):(0));var l=((s>0)?(d[(s-1)*a+(u)]):(0));var n=((s<(a-1))?(d[(s+1)*a+(u)]):(0));qrCanvas.fillStyle=B.colors.dot;B._fillRectR(qrCanvas,p*(r+u),p*(r+s),p,p,0);qrCanvas.fillStyle=B.colors.bg;B._fillRectReverseFill(qrCanvas,p*(r+u),p*(r+s),p,p,f,D,c,l,n)}else{if(o==B.fillType.CURVE_DEFILL){if(((u<(7+1))&&(s<(7+1)))||((k<=(7+1))&&(s<(7+1)))||((u<(7+1))&&(g<=(7+1)))){continue}qrCanvas.fillStyle=B.colors.dot;B._fillRectR(qrCanvas,p*(r+u),p*(r+s),p,p,0);f=(p-(p*0.6));qrCanvas.fillStyle=B.colors.bg;B._fillCurveDeFill(qrCanvas,p*(r+u),p*(r+s),p,p,f,d,a,u,s)}}}}}if((C.photoid)&&(C.photoid!="")){try{var h=document.getElementById(C.photoid);if((h.src)&&(h.src!="")){var A=B._qrFinalWidth;var v=A*0.3;var z=B._getNewDimensions(v,v,h.width,h.height);var q=(A-z.w)/2;var b=(A-z.h)/2;qrCanvas.drawImage(h,q,b,z.w,z.h)}}catch(x){}}var t=m.toDataURL();var y=document.getElementById(B._qrImageID);y.src=t;y.style.width=B._qrFinalWidth+"px";y.style.height=B._qrFinalWidth+"px";if(B._qrShowImage=="no"){y.style.display="none"}m.style.display="none";return{image:t,width:B._qrFinalWidth}}return null}};var QRCodeTypesClass=function(){};QRCodeTypesClass.prototype={_getBirthDate:function(b,a){if((b)&&(b.year)&&(b.month)&&(b.day)){return b.year+a+b.month+a+b.day}return null},_getVCalDate:function(b,a){if(a=="y"){if((b)&&(b.year)&&(b.month)&&(b.day)){return b.year+b.month+b.day}}else{if((b)&&(b.year)&&(b.month)&&(b.day)&&(b.hour)&&(b.minute)&&(b.second)){return b.year+b.month+b.day+"T"+b.hour+b.minute+b.second}}return null},_escapeUrl:function(a){if(a){return escape(a).replace(/\+/g,"%2B")}return""},_escapeSpecial:function(a){if(a){return(((a.replace(/:/g,"%3A")).replace(/;/g,"%3B")).replace(/;/g,"%2C"))}return""},_urlEncode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return this._escapeUrl(a)},getText:function(a){return a},getURL:function(a){return a},getBookMark:function(b,a){return"MEBKM:TITLE:"+b+";URL:"+this.getURL(a)},getTelePhoneNumber:function(a){return"TEL:"+a},getSMS:function(b,a){return"SMSTO:"+b+":"+a},getGeoCordinates:function(c,a,b){return"GEO:"+c+","+a},getGeoGoogleMap:function(c,a,b){return"http://maps.google.com/maps?f=q&q="+c+"%2c"+a+"+%28"+this._escapeUrl(b)+"%29"},getGeoBingMap:function(c,a,b){return"http://www.bing.com/maps/?v=2@cp="+c+"~"+a+"@lvl=16&dir=0&sty=r"},getEmail:function(a){return"MAILTO:"+a},sendEmail:function(c,b,a){return"mailto:"+c+"?subject="+this._escapeUrl(b)+"&body="+this._escapeUrl(a)},getWiFiLogin:function(b,c,a){return"WIFI:T:"+a+";S:"+b+";P:"+c+";;"},getVCard:function(b){try{if(b){var a=this;var c="BEGIN:VCARD \nVERSION:3.0 \nN:"+((b.ln)?(a._escapeSpecial(b.ln)+";"):(";"))+((b.fn)?(a._escapeSpecial(b.fn)+";"):(";"))+((b.mn)?(a._escapeSpecial(b.mn)+";;\n"):(";;\n"))+"FN:"+((b.fn)?(a._escapeSpecial(b.fn)+" "):(""))+((b.mn)?(a._escapeSpecial(b.mn)+" "):(""))+((b.ln)?(a._escapeSpecial(b.ln)):(""))+"\n"+((b.org)?("ORG:"+a._escapeSpecial(b.org)+"\n"):(""))+((b.title)?("TITLE:"+a._escapeSpecial(b.title)+"\n"):(""))+((b.email)?("EMAIL;type=INTERNET;type=WORK:"+b.email+"\n"):(""))+((b.mNumber)?("TEL;type=CELL:"+b.mNumber+"\n"):(""))+((b.wNumber)?("TEL;type=WORK:"+b.wNumber+"\n"):(""))+((b.hNumber)?("TEL;type=HOME:"+b.hNumber+"\n"):(""))+((b.fNumber)?("TEL;type=WORK,FAX:"+b.fNumber+"\n"):(""))+((b.WACountry)?("ADR;type=WORK:;;"+a._escapeSpecial(b.WAStreet)+";"+a._escapeSpecial(b.WACity)+";"+a._escapeSpecial(b.WAState)+";"+a._escapeSpecial(b.WAZip)+";"+a._escapeSpecial(b.WACountry)+"\n"):(""))+((b.HACountry)?("ADR;type=HOME:;;"+a._escapeSpecial(b.HAStreet)+";"+a._escapeSpecial(b.HACity)+";"+a._escapeSpecial(b.HAState)+";"+a._escapeSpecial(b.HAZip)+";"+a._escapeSpecial(b.HACountry)+"\n"):(""))+((b.BD)?("BDAY;value=date:"+this._getBirthDate(b.BD,"-")+"\n"):(""))+((b.wUrl)?("URL;type=WORK:"+a._escapeUrl(b.wUrl)+"\n"):(""))+((b.hUrl)?("URL;type=HOME:"+a._escapeUrl(b.hUrl)+"\n"):(""))+"END:VCARD";return c}}catch(d){alert("getVCard:"+d)}return null},getMECard:function(b){try{if(b){var a=this;var c="MECARD:N:"+((b.ln)?(a._escapeSpecial(b.ln)+","):(","))+((b.fn)?(a._escapeSpecial(b.fn)+";"):(";"))+((b.mNumber)?("TEL:"+b.mNumber+";"):(""))+((b.vNumber)?("TEL-AV:"+b.vNumber+";"):(""))+((b.email)?("EMAIL:"+b.email+";"):(""))+((b.url)?("URL:"+a._escapeUrl(b.url)+";"):(""))+((b.BD)?("BDAY:"+this._getBirthDate(b.BD,"")+";"):(""))+((b.ACountry)?("ADR:,,"+a._escapeSpecial(b.AStreet)+","+a._escapeSpecial(b.ACity)+","+a._escapeSpecial(b.AState)+","+a._escapeSpecial(b.AZip)+","+a._escapeSpecial(b.ACountry)+";;"):(""));return c}}catch(d){alert("getMECard:"+d)}return null},getVCal:function(b){try{if(b){var a=this;var c="BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nSUMMARY:"+((b.summary)?(a._escapeSpecial(b.summary)):(""))+"\nDESCRIPTION:"+((b.desc)?(a._escapeSpecial(b.desc)):(""))+"\nLOCATION:"+((b.loc)?(a._escapeSpecial(b.loc)):(""))+"\nDTSTART:"+((b.sd)?(this._getVCalDate(b.sd,b.fd)):(""))+"\nDTEND:"+((b.ed)?(this._getVCalDate(b.ed,b.fd)):(""))+"\nEND:VEVENT\nEND:VCALENDAR";return c}}catch(d){alert("getVCal:"+d)}return null}};function startActivityIndicator(){document.getElementById("globalSpinner").className="spinnerWrapper"}function stopActivityIndicator(){document.getElementById("globalSpinner").className="hideSpinner"}function updateElementClass(a,c){try{document.getElementById(a).className=c}catch(b){}}function onChangeQRTypeSelect(b){var c=new Array("qrBookMarkText","qrWebSiteUrl","qrUrlShorten","qrPhoneNumber","qrSMSMessage","qrEMailAddress","qrEMailRecipient","qrEMailSubject","qrEMailBody","qrVCardFN","qrVCardMN","qrVCardLN","qrVCardMobilePhone","qrVCardHomePhone","qrVCardWorkPhone","qrVCardWorkFax","qrMECardVideoPhone","qrVCardEmail","qrVCardOrg","qrVCardOrgTitle","qrVCardWorkStreet","qrVCardWorkCity","qrVCardWorkState","qrVCardWorkZip","qrVCardWorkCountry","qrVCardHomeStreet","qrVCardHomeCity","qrVCardHomeState","qrVCardHomeZip","qrVCardHomeCountry","qrMECardStreet","qrMECardCity","qrMECardState","qrMECardZip","qrMECardCountry","qrVCardWorkUrl","qrVCardHomeUrl","qrMECardUrl","qrVCardBirthDay","qrVCalEventSummary","qrVCalEventDesc","qrVCalEventIsFullDay","qrVCalEventStartDate","qrVCalEventStartTime","qrVCalEventEndDate","qrVCalEventEndTime","qrMapLocation","qrWIFISSID","qrWIFIPassword","qrWIFIType","qrTextValue","qrPhotoUrl","qrOutputDiv");var a=0;for(a=0;a<c.length;a++){updateElementClass(c[a]+"ID","hideItemCls")}if(b=="site"){updateElementClass("qrWebSiteUrlID","showItemCls");updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="bookmark"){updateElementClass("qrBookMarkTextID","showItemCls");updateElementClass("qrWebSiteUrlID","showItemCls");updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="call"){updateElementClass("qrPhoneNumberID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="sms"){updateElementClass("qrPhoneNumberID","showItemCls");updateElementClass("qrSMSMessageID","showItemCls")}else{if(b=="email"){updateElementClass("qrEMailAddressID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="mail"){updateElementClass("qrEMailRecipientID","showItemCls");updateElementClass("qrEMailSubjectID","showItemCls");updateElementClass("qrEMailBodyID","showItemCls")}else{if(b=="vcard"){updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrVCardFNID","showItemCls");updateElementClass("qrVCardMNID","showItemCls");updateElementClass("qrVCardLNID","showItemCls");updateElementClass("qrVCardMobilePhoneID","showItemCls");updateElementClass("qrVCardHomePhoneID","showItemCls");updateElementClass("qrVCardWorkPhoneID","showItemCls");updateElementClass("qrVCardWorkFaxID","showItemCls");updateElementClass("qrVCardEmailID","showItemCls");updateElementClass("qrVCardOrgID","showItemCls");updateElementClass("qrVCardOrgTitleID","showItemCls");updateElementClass("qrVCardWorkStreetID","showItemCls");updateElementClass("qrVCardWorkCityID","showItemCls");updateElementClass("qrVCardWorkStateID","showItemCls");updateElementClass("qrVCardWorkZipID","showItemCls");updateElementClass("qrVCardWorkCountryID","showItemCls");updateElementClass("qrVCardHomeStreetID","showItemCls");updateElementClass("qrVCardHomeCityID","showItemCls");updateElementClass("qrVCardHomeStateID","showItemCls");updateElementClass("qrVCardHomeZipID","showItemCls");updateElementClass("qrVCardHomeCountryID","showItemCls");updateElementClass("qrVCardWorkUrlID","showItemCls");updateElementClass("qrVCardHomeUrlID","showItemCls");updateElementClass("qrVCardBirthDayID","showItemCls")}else{if(b=="mecard"){updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrVCardFNID","showItemCls");updateElementClass("qrVCardLNID","showItemCls");updateElementClass("qrVCardMobilePhoneID","showItemCls");updateElementClass("qrMECardVideoPhoneID","showItemCls");updateElementClass("qrVCardEmailID","showItemCls");updateElementClass("qrMECardStreetID","showItemCls");updateElementClass("qrMECardCityID","showItemCls");updateElementClass("qrMECardStateID","showItemCls");updateElementClass("qrMECardZipID","showItemCls");updateElementClass("qrMECardCountryID","showItemCls");updateElementClass("qrMECardUrlID","showItemCls");updateElementClass("qrVCardBirthDayID","showItemCls")}else{if(b=="vevent"){updateElementClass("qrVCalEventSummaryID","showItemCls");updateElementClass("qrVCalEventDescID","showItemCls");updateElementClass("qrVCalEventIsFullDayID","showItemCls");updateElementClass("qrVCalEventStartDateID","showItemCls");updateElementClass("qrVCalEventStartTimeID","showItemCls");updateElementClass("qrVCalEventEndDateID","showItemCls");updateElementClass("qrVCalEventEndTimeID","showItemCls");updateElementClass("qrMapLocationID","showItemCls")}else{if(b=="map"){updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrMapLocationID","showItemCls")}else{if(b=="bing"){updateElementClass("qrUrlShortenID","showItemCls");updateElementClass("qrMapLocationID","showItemCls")}else{if(b=="geo"){updateElementClass("qrMapLocationID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="wifi"){updateElementClass("qrWIFISSIDID","showItemCls");updateElementClass("qrWIFIPasswordID","showItemCls");updateElementClass("qrWIFITypeID","showItemCls");updateElementClass("qrPhotoUrlID","showItemCls")}else{if(b=="text"){updateElementClass("qrTextValueID","showItemCls")}}}}}}}}}}}}}}}var qrCodeObject;var qrCodeTypes;function initQRCode(){onChangeQRTypeSelect("site");qrCodeObject=new QRCodeClass();qrCodeTypes=new QRCodeTypesClass()}function getECCValue(a){if(a=="L"){return 1}else{if(a=="M"){return 2}else{if(a=="Q"){return 3}else{if(a=="H"){return 4}}}}return 1}function getValue(a){return document.qrCodeForm[a].value}function getShortenURl(a){if(a){var b=new XMLHttpRequest();b.open("GET","http://api.bitly.com/v3/shorten?login=sivar&apiKey=R_864f39f8efb70705d2360a54ea05d52d&longUrl="+a.url);b.onreadystatechange=function(){if(b.readyState==4){var d=a.url;if(b.status==200){try{var c=JSON.parse(b.response);d=c.data.url}catch(f){d=a.url}}if(a.callback){a.callback({data:d})}}};b.send();return true}return false}function getQRString(b){var d=getValue("qrSelecteType");var h="";try{var a=getValue("qrPhotoUrl");if((document.getElementById("qrPhotoUrlID").className=="showItemCls")&&(a!="")){var g=document.getElementById("qrOutputPhotoID");g.src=a}else{document.getElementById("qrOutputPhotoID").src=null;document.qrCodeForm.qrPhotoUrl.value=null}}catch(f){}if(d=="site"){if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:qrCodeTypes.getURL(getValue("qrWebSiteUrl")),callback:function(e){if((b)&&(b.callback)){b.callback({data:e.data})}}})==true){return}}h=qrCodeTypes.getURL(getValue("qrWebSiteUrl"))}else{if(d=="bookmark"){if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:qrCodeTypes.getURL(getValue("qrWebSiteUrl")),callback:function(e){if((b)&&(b.callback)){var i=qrCodeTypes.getBookMark(getValue("qrBookMarkText"),e.data);b.callback({data:i})}}})==true){return}}h=qrCodeTypes.getBookMark(getValue("qrBookMarkText"),getValue("qrWebSiteUrl"))}else{if(d=="call"){h=qrCodeTypes.getTelePhoneNumber(getValue("qrPhoneNumber"))}else{if(d=="sms"){h=qrCodeTypes.getSMS(getValue("qrPhoneNumber"),getValue("qrSMSMessage"))}else{if(d=="email"){h=qrCodeTypes.getEmail(getValue("qrEMailAddress"))}else{if(d=="mail"){h=qrCodeTypes.sendEmail(getValue("qrEMailRecipient"),getValue("qrEMailSubject"),getValue("qrEMailBody"))}else{if(d=="vcard"){if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:qrCodeTypes.getURL(getValue("qrVCardWorkUrl")),callback:function(e){var i=e.data;getShortenURl({url:qrCodeTypes.getURL(getValue("qrVCardHomeUrl")),callback:function(j){if((b)&&(b.callback)){var k=j.data;h=qrCodeTypes.getVCard({fn:getValue("qrVCardFN"),mn:getValue("qrVCardMN"),ln:getValue("qrVCardLN"),org:getValue("qrVCardOrg"),title:getValue("qrVCardOrgTitle"),email:getValue("qrVCardEmail"),mNumber:getValue("qrVCardMobilePhone"),wNumber:getValue("qrVCardWorkPhone"),hNumber:getValue("qrVCardHomePhone"),fNumber:getValue("qrVCardWorkFax"),WAStreet:getValue("qrVCardWorkStreet"),WACity:getValue("qrVCardWorkCity"),WAState:getValue("qrVCardWorkState"),WAZip:getValue("qrVCardWorkZip"),WACountry:getValue("qrVCardWorkCountry"),HAStreet:getValue("qrVCardHomeStreet"),HACity:getValue("qrVCardHomeCity"),HAState:getValue("qrVCardHomeState"),HAZip:getValue("qrVCardHomeZip"),HACountry:getValue("qrVCardHomeCountry"),BD:{year:getValue("qrVCardBirthDayYear"),month:getValue("qrVCardBirthDayMonth"),day:getValue("qrVCardBirthDayDay"),},wUrl:i,hUrl:k});b.callback({data:h})}}})}})==true){return}}h=qrCodeTypes.getVCard({fn:getValue("qrVCardFN"),mn:getValue("qrVCardMN"),ln:getValue("qrVCardLN"),org:getValue("qrVCardOrg"),title:getValue("qrVCardOrgTitle"),email:getValue("qrVCardEmail"),mNumber:getValue("qrVCardMobilePhone"),wNumber:getValue("qrVCardWorkPhone"),hNumber:getValue("qrVCardHomePhone"),fNumber:getValue("qrVCardWorkFax"),WAStreet:getValue("qrVCardWorkStreet"),WACity:getValue("qrVCardWorkCity"),WAState:getValue("qrVCardWorkState"),WAZip:getValue("qrVCardWorkZip"),WACountry:getValue("qrVCardWorkCountry"),HAStreet:getValue("qrVCardHomeStreet"),HACity:getValue("qrVCardHomeCity"),HAState:getValue("qrVCardHomeState"),HAZip:getValue("qrVCardHomeZip"),HACountry:getValue("qrVCardHomeCountry"),BD:{year:getValue("qrVCardBirthDayYear"),month:getValue("qrVCardBirthDayMonth"),day:getValue("qrVCardBirthDayDay"),},wUrl:getValue("qrVCardWorkUrl"),hUrl:getValue("qrVCardHomeUrl")})}else{if(d=="mecard"){if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:qrCodeTypes.getURL(getValue("qrMECardUrl")),callback:function(e){if((b)&&(b.callback)){var i=qrCodeTypes.getMECard({fn:getValue("qrVCardFN"),ln:getValue("qrVCardLN"),mNumber:getValue("qrVCardMobilePhone"),vNumber:getValue("qrMECardVideoPhone"),email:getValue("qrVCardEmail"),url:e.data,BD:{year:getValue("qrVCardBirthDayYear"),month:getValue("qrVCardBirthDayMonth"),day:getValue("qrVCardBirthDayDay"),},AStreet:getValue("qrMECardStreet"),ACity:getValue("qrMECardCity"),AState:getValue("qrMECardState"),AZip:getValue("qrMECardZip"),ACountry:getValue("qrMECardCountry"),});b.callback({data:i})}}})==true){return}}h=qrCodeTypes.getMECard({fn:getValue("qrVCardFN"),ln:getValue("qrVCardLN"),mNumber:getValue("qrVCardMobilePhone"),vNumber:getValue("qrMECardVideoPhone"),email:getValue("qrVCardEmail"),url:getValue("qrMECardUrl"),BD:{year:getValue("qrVCardBirthDayYear"),month:getValue("qrVCardBirthDayMonth"),day:getValue("qrVCardBirthDayDay"),},AStreet:getValue("qrMECardStreet"),ACity:getValue("qrMECardCity"),AState:getValue("qrMECardState"),AZip:getValue("qrMECardZip"),ACountry:getValue("qrMECardCountry"),})}else{if(d=="vevent"){var c=(((document.qrCodeForm.qrVCalEventIsFullDay)[0].checked==true)?("y"):("n"));h=qrCodeTypes.getVCal({summary:getValue("qrVCalEventSummary"),desc:getValue("qrVCalEventDesc"),loc:getValue("qrMapLocationName"),fd:c,sd:{year:getValue("qrVCalEventStartDateYear"),month:getValue("qrVCalEventStartDateMonth"),day:getValue("qrVCalEventStartDateDay"),hour:getValue("qrVCalEventStartTimeHour"),minute:getValue("qrVCalEventStartTimeMinute"),second:"00"},ed:{year:getValue("qrVCalEventEndDateDayYear"),month:getValue("qrVCalEventEndDateMonth"),day:getValue("qrVCalEventEndDateDay"),hour:getValue("qrVCalEventEndTimeHour"),minute:getValue("qrVCalEventEndTimeMinute"),second:"00"}})}else{if(d=="geo"){h=qrCodeTypes.getGeoCordinates(getValue("qrMapLatitude"),getValue("qrMapLongitude"),getValue("qrMapLocationName"))}else{if(d=="map"){h=qrCodeTypes.getGeoGoogleMap(getValue("qrMapLatitude"),getValue("qrMapLongitude"),getValue("qrMapLocationName"));if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:h,callback:function(e){if((b)&&(b.callback)){b.callback({data:e.data})}}})==true){return}}}else{if(d=="bing"){h=qrCodeTypes.getGeoBingMap(getValue("qrMapLatitude"),getValue("qrMapLongitude"),getValue("qrMapLocationName"));if(qrCodeTypes.getText(getValue("qrUrlShorten"))=="y"){if(getShortenURl({url:h,callback:function(e){if((b)&&(b.callback)){b.callback({data:e.data})}}})==true){return}}}else{if(d=="wifi"){h=qrCodeTypes.getWiFiLogin(getValue("qrWIFISSID"),getValue("qrWIFIPassword"),getValue("qrWIFIType"))}else{if(d=="text"){h=qrCodeTypes.getText(getValue("qrTextValue"))}}}}}}}}}}}}}}if((b)&&(b.callback)){b.callback({data:h})}}function generateQRCode(){startActivityIndicator();getQRString({callback:function(a){qrCodeObject.colors.bg=getValue("qrColorbg");qrCodeObject.colors.dot=getValue("qrColordot");qrCodeObject.colors.lBorder=getValue("qrColorlBorder");qrCodeObject.colors.lFill=getValue("qrColorlFill");qrCodeObject.colors.rBorder=getValue("qrColorrBorder");qrCodeObject.colors.rFill=getValue("qrColorrFill");qrCodeObject.colors.bBorder=getValue("qrColorbBorder");qrCodeObject.colors.bFill=getValue("qrColorbFill");qrCodeObject.fillValue=getValue("qrColorpattern");console.log("QRString:"+a.data);qrCodeObject.generateQRCode({value:a.data,ecclevel:getECCValue(getValue("QRECC")),showimage:"yes",imageid:"qrOutputImageID",photoid:((document.getElementById("qrPhotoUrlID").className=="showItemCls")?("qrOutputPhotoID"):("")),width:getValue("QRWidth")});updateElementClass("qrOutputDivID","showItemCls");stopActivityIndicator()}})};